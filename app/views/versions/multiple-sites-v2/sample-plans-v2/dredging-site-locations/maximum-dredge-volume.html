{% extends "../../layouts/sample-plans.html" %}

{% block beforeContent %}
    {% include "../../includes/phase-banner.html" %}
    {{ super() }}
    {% include "../../includes/back-link.html" %}
{% endblock %}

{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/textarea/macro.njk" import govukTextarea %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

<!-- Set the heading for the page -->
{% set pageHeadingTextHTML %}
Dredge volume and frequency
{% endset %}

<!-- Text that show in the browser tab. Does NOT need changing -->
{% block pageTitle %}
    {% if  data['maximum-dredge-volume-errorthispage'] == "true"  %}
        Error:
    {% endif %}

    {{ pageHeadingTextHTML }} - Get a plan for sediment sample analysis
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        {% if data['maximum-dredge-volume-errorthispage'] == "true" %}
            {{ govukErrorSummary({
                titleText: "There is a problem",
                errorList: [
                    {
                        text: data['maximum-dredge-volume-total-error'],
                        href: "#maximum-dredge-volume-total"
                    }
                ]
            }) }}
        {% endif %}

        <span class="govuk-caption-l">{{ data['sample-plan-project-name-text-input'] }}<span class="govuk-!-display-block">Dredge site 1</span></span>

        <h1 class="govuk-heading-l">
            {{ pageHeadingTextHTML }}
        </h1>

        <form action="maximum-dredge-volume-router" method="post" novalidate>

            <div class="govuk-form-group {% if data['maximum-dredge-volume-total-error'] %}govuk-form-group--error{% endif %}">
                <label class="govuk-label govuk-label--s" for="maximum-dredge-volume-total">
                    <strong>Maximum proposed dredge volume</strong>
                </label>
                <div id="maximum-dredge-volume-total-hint" class="govuk-hint">
                    Total volume, in cubic metres, over the full licence period
                </div>
                {% if data['maximum-dredge-volume-total-error'] %}
                    <p id="maximum-dredge-volume-total-error" class="govuk-error-message">
                        <span class="govuk-visually-hidden">Error:</span> {{ data['maximum-dredge-volume-total-error'] }}
                    </p>
                {% endif %}
                <div class="govuk-input__wrapper">
                    <input class="govuk-input govuk-input--width-10 {% if data['maximum-dredge-volume-total-error'] %}govuk-input--error{% endif %}" 
                           id="maximum-dredge-volume-total" 
                           name="maximum-dredge-volume-total" 
                           type="text" 
                           spellcheck="false" 
                           autocomplete="off"
                           value="{{ data['maximum-dredge-volume-total'] if data['maximum-dredge-volume-total'] }}"
                           aria-describedby="maximum-dredge-volume-total-hint{% if data['maximum-dredge-volume-total-error'] %} maximum-dredge-volume-total-error{% endif %}">
                    <div class="govuk-input__suffix" aria-hidden="true">mÂ³</div>
                </div>
            </div>

            {{ govukTextarea({
                name: "maximum-dredge-volume-frequency",
                id: "maximum-dredge-volume-frequency",
                label: {
                    text: "Frequency of dredging (optional)",
                    classes: "govuk-label--s"
                },
                hint: {
                    text: "For example, every 6 months or every year"
                },
                value: data['maximum-dredge-volume-frequency']
            }) }}

            <div class="govuk-button-group">
                {{ govukButton({
                    text: "Save and continue"
                }) }}
            </div>

        </form>
    </div>
</div>

{% endblock %}
