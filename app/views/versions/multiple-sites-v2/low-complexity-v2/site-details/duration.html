{% extends "../../layouts/low-complexity.html" %}

{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/fieldset/macro.njk" import govukFieldset %}

{% block beforeContent %}
    {% include "../../includes/phase-banner.html" %}
    {% if data['organisation-name'] %}
        {% include "../../includes/organisation-switcher.html" %}
    {% endif %}
    <a class="govuk-back-link govuk-link--no-visited-state" href="javascript:history.back()">Back</a>
{% endblock %}

<!-- Setting the big main heading at the top of the page -->
{% set pageHeadingTextHTML %}
What is the maximum duration of the activity?
{% endset %}

<!-- Text that show in the browser tab. Does NOT need changing -->
{% block pageTitle %}
{% if data['low-complexity-site-duration-errorthispage'] == "true" %}
Error:
{% endif %}

{{ pageHeadingTextHTML }} - {{ data['headerNameExemption'] }}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
	<div class="govuk-grid-column-two-thirds">
		{% if data['low-complexity-site-duration-errorthispage'] == "true" %}
		<div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1"
			data-module="govuk-error-summary">
			<h2 class="govuk-error-summary__title" id="error-summary-title">
				There is a problem
			</h2>
			<div class="govuk-error-summary__body">
				<ul class="govuk-list govuk-error-summary__list">
					<li><a href="#low-complexity-site-duration-years">Enter the maximum duration of the activity</a></li>
				</ul>
			</div>
		</div>
		{% endif %}

		<!--  END OF 'error summary' -->

		<form action="duration-router" method="post" novalidate>

			<div class="govuk-form-group {% if data['low-complexity-site-duration-errorthispage'] == 'true' %}govuk-form-group--error{% endif %}">
				<fieldset class="govuk-fieldset" {% if data['low-complexity-site-duration-errorthispage'] == "true" %}aria-describedby="duration-error"{% endif %}>
					<legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
						<h1 class="govuk-fieldset__heading">
							<span class="govuk-caption-l">{{ data['low-complexity-project-name-text-input'] }}<span class="govuk-!-display-block">Site 1</span></span>
							{{ pageHeadingTextHTML }}
						</h1>
					</legend>

					<p class="govuk-body">Enter 0 in any text boxes that do not apply, for example, if the activity is for 3 months, enter 0 in years</p>

					{% if data['low-complexity-site-duration-errorthispage'] == "true" %}
					<p id="duration-error" class="govuk-error-message">
						<span class="govuk-visually-hidden">Error:</span> Enter the maximum duration of the activity
					</p>
					{% endif %}

					<fieldset class="govuk-fieldset" role="group">
						<legend class="govuk-fieldset__legend govuk-visually-hidden">
							{{ pageHeadingTextHTML }}
						</legend>
						<div class="govuk-date-input" id="duration">
							<div class="govuk-date-input__item">
								<div class="govuk-form-group">
									<label class="govuk-label govuk-date-input__label" for="low-complexity-site-duration-years">
										Years
									</label>
									<input class="govuk-input govuk-date-input__input govuk-input--width-2 {% if data['low-complexity-site-duration-years-error'] == 'true' %}govuk-input--error{% endif %}" 
										id="low-complexity-site-duration-years" 
										name="low-complexity-site-duration-years" 
										type="text" 
										inputmode="numeric"
										value="{{ data['low-complexity-site-duration-years'] }}">
								</div>
							</div>
							<div class="govuk-date-input__item">
								<div class="govuk-form-group">
									<label class="govuk-label govuk-date-input__label" for="low-complexity-site-duration-months">
										Months
									</label>
									<input class="govuk-input govuk-date-input__input govuk-input--width-2 {% if data['low-complexity-site-duration-months-error'] == 'true' %}govuk-input--error{% endif %}" 
										id="low-complexity-site-duration-months" 
										name="low-complexity-site-duration-months" 
										type="text" 
										inputmode="numeric"
										value="{{ data['low-complexity-site-duration-months'] }}">
								</div>
							</div>
						</div>
					</fieldset>
				</fieldset>
			</div>

			<div class="govuk-button-group">
				{{ govukButton({
					text: "Save and continue"
				}) }}
			</div>

		</form>

	</div>
</div>

{% endblock %}

